<div class="p-6 scientific-card m-4">
  <h2 class="text-xl font-bold mb-6 text-neutral-800">Select a Genome</h2>

  <!-- Step 1: Organism Selection -->
  <div class="mb-6">
    <h3 class="text-lg font-semibold mb-3 text-neutral-700">Step 1: Select an organism</h3>
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3">
      @for (organism of organisms; track organism) {
      <button (click)="this.selectedOrganism.set(organism)" class="organism-btn p-3 text-center"
        [class.selected]="selectedOrganism() === organism">
        {{ organism }}
      </button>
      }
    </div>
  </div>

  <!-- Step 2: Genome Selection (only shown when organism is selected) -->
  @if (selectedOrganism()) {
  <div class="mt-6">
    <h3 class="text-lg font-semibold mb-3 text-neutral-700">Step 2: Select a genome version</h3>
    <div class="space-y-3">
      @for (genome of genomesForSelectedOrganism(); track genome.id; let i = $index) {
      <button (click)="setGenome(genome)" class="genome-btn w-full p-4 flex flex-col items-start fade-in"
        [style.animation-delay]="i * 50 + 'ms'">
        <div class="font-medium text-neutral-800">{{ genome.name }}</div>
        <div class="text-sm text-neutral-600 mt-1">{{ genome.description }}</div>
      </button>
      }
    </div>
  </div>
  }
</div>